function createPagination(currentPage,totalPages,pageUrl,filters){var thisElement=$("#pagination");$(thisElement).empty();if(totalPages<2){return!1}
var container=$("<ul/>").addClass("pagination").css("display","block");var pageElement=$("<a/>").addClass("page").attr('data-page',1);var dropdown=$("<li/>").append($("<div/>").addClass("dropup btn-group").css("display","block").append($("<button/>").addClass("btn dropdown-toggle").attr({type:"button",'data-toggle':"dropdown"}).text("...")));var visiblePages=3;var visiblePagesLeft=totalPages;var visiblePagesRight=totalPages;if(visiblePages>=totalPages){visiblePages=totalPages}else{if(visiblePages%2==0){visiblePagesLeft=visiblePages/2-1;visiblePagesRight=visiblePages/2}else{visiblePagesLeft=visiblePagesRight=parseInt(visiblePages/2)}}
var pageFrom=(currentPage-visiblePagesLeft>0)?currentPage-visiblePagesLeft:1;var pageTo=(currentPage+visiblePagesRight<totalPages)?currentPage+visiblePagesRight:totalPages;if(visiblePages<totalPages){pageTo=(currentPage-pageFrom<visiblePagesLeft)?pageTo+(visiblePagesLeft-currentPage+1):pageTo;pageFrom=(pageTo-currentPage<visiblePagesRight)?pageFrom-(visiblePagesRight-(pageTo-currentPage)):pageFrom}
if(currentPage>1){var params=$.extend({page:currentPage-1},filters);$("<li/>").append(pageElement.clone(!0).attr({"data-page":currentPage-1,href:pageUrl+"?"+$.param(params)}).addClass("page-nav page-prev").text("<")).appendTo(container)}
createDropdown(1,pageFrom);for(var i=pageFrom;i<=pageTo;i++){var params=$.extend({page:i},filters);$("<li/>").append(pageElement.clone(!0).attr({"data-page":i,href:pageUrl+"?"+$.param(params)}).text(i)).appendTo(container)}
createDropdown(pageTo+1,totalPages+1);if(currentPage<totalPages){var params=$.extend({page:currentPage+1},filters);$("<li/>").append(pageElement.clone(!0).attr({"data-page":currentPage+1,href:pageUrl+"?"+$.param(params)}).addClass("page-nav page-next").text(">")).appendTo(container)}
container.find("a[data-page='"+currentPage+"']").click(function(e){e.preventDefault()}).parent("li").addClass("active");container.appendTo(thisElement);function createDropdown(from,to){var hiddenElementsList=$("<ul/>").addClass("dropdown-menu");for(var i=from;i<to;i++){var params=$.extend({page:i},filters);hiddenElementsList.append($("<li/>").append(pageElement.clone(!0).attr({"data-page":i,href:pageUrl+"?"+$.param(params)}).text(i)))}
var clonedDropdown=dropdown.clone(!0);clonedDropdown.appendTo(container).find("div.dropup").append(hiddenElementsList);if(!clonedDropdown.find(hiddenElementsList).children("li").length){clonedDropdown.hide()}}}